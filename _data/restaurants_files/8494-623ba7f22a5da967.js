(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8494],{20549:function(){},43290:function(){},83041:function(e,t,n){"use strict";n.d(t,{Ne:function(){return g},OJ:function(){return d},WE:function(){return f},uC:function(){return m}});var r=n(28648),i=n(43316),a=n(56646),o=n(2645),u=n(84983),s=n(7653),c=n(11492),l=n(68571);function d(){let{frontendPrivateApiUrl:e}=(0,c.useConfiguration)();return(0,s.useCallback)(async function(t){var n,r;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await fetch("".concat(e).concat(t),{...i,headers:{"anthropic-client-sha":null!==(n=l.env.RELEASE_SHA)&&void 0!==n?n:"unknown","anthropic-client-version":null!==(r=l.env.RELEASE_VERSION)&&void 0!==r?r:"unknown",...i.headers},credentials:"include"})},[e])}function p(e,t){let n=d();return(0,s.useCallback)(async(a,o)=>{let u=await n(a,o),s=await u.text(),c={error:{type:"api_error",message:s}};try{("DELETE"!==o.method||s.length>0)&&(c=JSON.parse(s))}catch(e){(0,i.uT)("Got invalid JSON from NextJS response",{extra:{text:s,status:u.status}})}if(!u.ok&&t!==u.status)throw(0,r.fT)(u.status,c,e,u.headers);return c},[n,t,e])}let m=(e,t,n)=>{let{transformVariables:r,enabled:i=!0,...o}=n||{},u=p("Mutation error"),{mutate:c,...l}=(0,a.useMutation)({mutationFn:async n=>{let i;i="function"==typeof e?e(n):e;let a=r?r(n):n;return await u(i,{method:t,headers:{"Content-Type":"application/json"},body:a?JSON.stringify(a):void 0})},...o});return{mutate:(0,s.useCallback)(e=>{i&&c(e)},[c,i]),...l}},f=(e,t,n)=>{let r=p("Query error",null==t?void 0:t.additionalPermittedStatusCode);return(0,o.useQuery)({queryKey:[e,n],queryFn:async()=>{let t=await r(e,{method:"GET",headers:{"Content-Type":"application/json"}});return n?n(t):t},staleTime:3e5,refetchOnWindowFocus:!1,retry:!1,...t})};function g(e,t,n,r){let i=(0,u.useQueryClient)(),{queryKey:a,...o}=r;return m(e,t,{async onMutate(e){await i.cancelQueries({queryKey:a});let t=i.getQueryData(a);return i.setQueryData(a,t=>n(e,t)),{previousValue:t}},onError(e,t,n){(null==n?void 0:n.previousValue)&&i.setQueryData(a,n.previousValue)},...o})}},11492:function(e,t,n){"use strict";n.r(t),n.d(t,{ConfigurationProvider:function(){return o},useConfiguration:function(){return u},useIsClaudeDot:function(){return s}});var r=n(27573),i=n(7653);let a=(0,i.createContext)(void 0),o=e=>{let{config:t,children:n}=e;return(0,r.jsx)(a.Provider,{value:t,children:n})},u=()=>{let e=(0,i.useContext)(a);if(!e)throw Error("useConfiguration must be called from within ConfigurationProvider");return e},s=()=>{let{applicationType:e}=u();return"claude-dot"===e}},23532:function(e,t,n){"use strict";n.r(t),n.d(t,{SSRCookiesProvider:function(){return c},browserCookieStore:function(){return s},useCookies:function(){return l}});var r=n(27573),i=n(7653);function a(e){return e.endsWith(".anthropic.com")?".anthropic.com":"claude.ai"===e||e.endsWith(".claude.ai")?".claude.ai":e.endsWith(".staging.ant.dev")?".".concat(e):void 0}let o=(0,i.createContext)(null),u="Thu, 01 Jan 1970 00:00:01 GMT",s={get:e=>{let t=document.cookie.split(";");for(let n=0;n<t.length;n++){let[r,i]=t[n].trim().split("=");if(e===r)return decodeURIComponent(i)}},set:function(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=["".concat(e,"=").concat(encodeURIComponent(t)),"max-age=".concat(null!==(n=r.maxAgeSeconds)&&void 0!==n?n:31536e3),"samesite=lax","secure","path=/"],o=a(window.location.hostname);o&&(document.cookie="".concat(e,"=[removed]; expires=").concat(u,"; samesite=lax; secure; path=/"),i.push("domain=".concat(o))),document.cookie=i.join("; ")},delete:e=>{let t=["".concat(e,"=[removed]"),"expires=".concat(u),"samesite=lax","secure"],n=a(window.location.hostname);n&&t.push("domain=".concat(n)),document.cookie=t.join("; ")}},c=e=>{let{value:t,children:n}=e,a=(0,i.useMemo)(()=>{if(!t)return{get:()=>void 0,set:()=>void 0,delete:()=>void 0};let e=Object.fromEntries(t.map(e=>[e.name,e.value]));return{get:t=>e[t],set:e=>{throw Error("Cannot set cookies in server-rendered client component. Attempting to set ".concat(e))},delete:e=>{throw Error("Cannot delete cookies in server-rendered client component. Attempting to delete ".concat(e))}}},[t]);return(0,r.jsx)(o.Provider,{value:a,children:n})},l=()=>((0,i.useContext)(o),s)},16096:function(e,t,n){"use strict";n.r(t),n.d(t,{CurrentAccountContext:function(){return v},CurrentAccountProvider:function(){return h},useBootstrapQuery:function(){return _},useCanManageBilling:function(){return O},useCanUpgradeToPro:function(){return S},useCanUpgradeToTeam:function(){return A},useCurrentAccount:function(){return b},useHasCapability:function(){return C},useHasPaidAccount:function(){return x},useHasProSubscription:function(){return y},useHasPublicEmailProvider:function(){return j},useHasRaven:function(){return E},useIsReadOnlyMode:function(){return T},usePaidAccountTier:function(){return k},useUsagePaused:function(){return M}});var r=n(27573),i=n(28648),a=n(14983),o=n(87050),u=n(35146),s=n(88337),c=n(81054),l=n.n(c),d=n(7653),p=n(80248),m=n(83041),f=n(11492),g=n(23532);let v=(0,d.createContext)(null),h=e=>{let{children:t}=e,n=(0,g.useCookies)(),[o,u]=(0,d.useState)(),{data:s,error:c,isFetching:p,refetch:m}=_();(0,d.useEffect)(()=>{o&&n.set(a.cn.LAST_ACTIVE_ORG,o)},[o,n]);let h=(0,f.useIsClaudeDot)(),w=(0,d.useMemo)(()=>{let e;if(!(null==s?void 0:s.account))return;let t=h?"chat":"api",r=s.account.memberships.map(e=>e.organization).filter(e=>e.capabilities.includes(t));if(o){let e=r.find(e=>e.uuid===o);if(e)return e}if(!e){let t=n.get(a.cn.LAST_ACTIVE_ORG);e=r.find(e=>e.uuid===t)}return e||(e=l()(r,"name")),e&&u(e.uuid),e},[s,o,h,n]),b=(0,d.useMemo)(()=>{var e;let t=c instanceof i.Hx&&403===c.statusCode||!(null==s?void 0:s.account);return{account:null==s?void 0:s.account,activeOrganization:w,statsig:null==s?void 0:s.statsig,intercomAccountHash:null==s?void 0:s.intercom_account_hash,messageLimit:null==s?void 0:null===(e=s.messageLimits)||void 0===e?void 0:e[(null==w?void 0:w.uuid)||""],setActiveOrganizationUUID:u,isLoading:p,isLoggedOut:!p&&t,refetch:async()=>{var e;return null===(e=(await m()).data)||void 0===e?void 0:e.account}}},[s,c,w,p,m]);return(0,r.jsx)(v.Provider,{value:b,children:t})},w=e=>e&&"type"in e?null:e,_=()=>{let{data:e,refetch:t,...n}=(0,m.WE)("/api/bootstrap",{queryKey:[u.aY],staleTime:1/0,retryOnMount:!1,additionalPermittedStatusCode:403}),r=(0,d.useCallback)(async()=>{let e=await t();return{...e,data:w(e.data)}},[t]);return{...n,data:w(e),refetch:r}},b=()=>{let e=(0,d.useContext)(v);if(!e)throw Error("Must call inside CurrentAccountProvider");return e},C=e=>{let{activeOrganization:t}=b();return!!t&&t.capabilities.includes(e)},y=()=>C("claude_pro"),E=()=>C("raven"),k=()=>{let e=E(),t=y();return e?"raven":t?"claude_pro":"free"},x=()=>{switch(k()){case"claude_pro":case"raven":return!0;case"free":return!1}},S=()=>"free"===k(),A=()=>{let e=k(),t=j();switch(e){case"free":case"claude_pro":return!t;case"raven":return!1}},T=()=>{let{value:e}=(0,o.F)("read_only_mode");return e},O=()=>{let{account:e,activeOrganization:t}=b(),n=(0,s.Di)(e,t,s.YB.BillingManage);return!E()||n},M=()=>{let{activeOrganization:e}=b();return null!=e&&!!e.billable_usage_paused_until&&new Date(e.billable_usage_paused_until)>new Date},j=()=>{let{account:e}=b(),{config:t}=(0,p.useConfig)("public_email_domains");return t.get("domains",[]).some(t=>null==e?void 0:e.email_address.endsWith("@".concat(t)))}},28648:function(e,t,n){"use strict";n.d(t,{Hx:function(){return r},fT:function(){return i}});class r extends Error{constructor(e,t,n,r,i){super(e),this.type=t,this.statusCode=n,this.extra=r,this.errorCode=i}}function i(e,t,n,i){if(t&&"object"==typeof t&&"error"in t){let{message:n,type:a,details:o,...u}=t.error;u.headers=i;let s=null;return o&&"object"==typeof o&&"error_code"in o&&"string"==typeof o.error_code&&(s=o.error_code),new r(n,a,e,u,s)}return new r(n,"api_error",e,t||{})}},14983:function(e,t,n){"use strict";var r,i;n.d(t,{cn:function(){return r},gV:function(){return s},jC:function(){return l},jW:function(){return d},m7:function(){return o},mL:function(){return u},ox:function(){return c},pz:function(){return a}});let a="https://support.anthropic.com/en/articles/8602283-does-claude-ai-have-any-message-limits",o="https://support.anthropic.com/en/articles/8325612-does-claude-pro-have-any-usage-limits",u=["https://forms.gle/r2yBoWVmbDeru9jY7"],s="https://support.anthropic.com/en/articles/8324991-about-claude-pro-usage",c="https://support.anthropic.com/en/articles/9266767-what-is-the-claude-team-plan",l="https://support.anthropic.com/en/articles/7996848-how-large-is-claude-s-context-window",d="https://support.anthropic.com/en/articles/8106465-our-approach-to-user-safety";(i=r||(r={})).LAST_ACTIVE_ORG="lastActiveOrg",i.COLOR_MODE="CH-prefers-color-scheme",i.CONSENT_PREFERENCES="anthropic-consent-preferences",i.SIDEBAR_PINNED="user-sidebar-pinned",i.RETURN_TO="return-to",i.JOIN_TOKEN="join-token",i.LEGAL_ACCEPTANCES="legal-acceptances",i.SESSION_KEY="sessionKey",i.PENDING_LOGIN="pendingLogin",i.SSO_STATE="ssoState"},87050:function(e,t,n){"use strict";n.d(t,{F:function(){return i}});var r=n(80248);let i=e=>(0,r.useGate)(e)},35146:function(e,t,n){"use strict";n.d(t,{$T:function(){return b},BB:function(){return f},CA:function(){return N},Ep:function(){return i},I8:function(){return u},I_:function(){return g},QU:function(){return w},Qn:function(){return m},RK:function(){return d},UD:function(){return j},VH:function(){return O},aY:function(){return c},az:function(){return P},eW:function(){return h},ec:function(){return r},gi:function(){return C},gs:function(){return l},je:function(){return p},l3:function(){return M},ld:function(){return T},lx:function(){return k},mm:function(){return v},n$:function(){return E},ph:function(){return o},sB:function(){return y},sM:function(){return _},sf:function(){return s},tt:function(){return x},tv:function(){return a},yM:function(){return I},zb:function(){return A},zy:function(){return S}});let r="account_profile",i="chat_message_debug_info",a="chat_conversation_list",o="chat_conversation",u="chat_conversation_tree",s="chat_failed_stream_retry",c="current_account",l="current_account_deletable",d="invoice_list",p="upcoming_invoice",m="model_config",f="org_invites",g="org_members",v="org",h="account_statsig",w="subscription_details",_="subscription_status",b="project",C="project_list",y="artifacts_list",E="top_projects",k="project_list_conversations",x="project_doc",S="project_doc_list",A="chat_snapshot_list",T="chat_snapshot",O="activity_feed",M="project_accounts_list",j="members_limit",N="enterprise_auth/domains",P="enterprise_auth/sso_settings",I="raven_type"},88337:function(e,t,n){"use strict";var r,i;n.d(t,{Di:function(){return o},Fs:function(){return u},YB:function(){return r}}),(i=r||(r={})).MembersView="members:view",i.MembersManage="members:manage",i.ApiView="api:view",i.ApiManage="api:manage",i.IntegrationsManage="integrations:manage",i.BillingView="billing:view",i.BillingManage="billing:manage",i.OrganizationManage="organization:manage",i.InvoicesView="invoices:view",i.UsageView="usage:view",i.ExportData="export:data",i.OwnersManage="owners:manage",i.WorkspacesView="workspaces:view",i.WorkspacesManage="workspaces:manage",i.EnterpriseAuthManage="enterprise_auth:manage";let a={user:["members:view"],developer:["members:view","api:view","api:manage","integrations:manage","usage:view","workspaces:view","workspaces:manage"],billing:["members:view","billing:view","billing:manage","usage:view","invoices:view","workspaces:view"],admin:["members:view","members:manage","api:view","api:manage","integrations:manage","billing:view","billing:manage","usage:view","invoices:view","organization:manage","export:data","workspaces:view","workspaces:manage"],owner:["members:view","members:manage","api:view","api:manage","integrations:manage","billing:view","billing:manage","usage:view","invoices:view","organization:manage","owners:manage","workspaces:view","workspaces:manage","enterprise_auth:manage"],primary_owner:["members:view","members:manage","api:view","api:manage","integrations:manage","billing:view","billing:manage","usage:view","invoices:view","organization:manage","export:data","owners:manage","workspaces:view","workspaces:manage","enterprise_auth:manage"]},o=(e,t,n)=>!!e&&!!t&&u(e,t,n),u=(e,t,n)=>{var r;let i=null===(r=e.memberships.find(e=>e.organization.uuid===t.uuid))||void 0===r?void 0:r.role;return!!i&&a[i].includes(n)}}}]);